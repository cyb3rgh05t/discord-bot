{% extends "base.html" %} {% block title %}Guild Statistics - Discord Bot
Manager{% endblock %} {% block extra_head %}
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='css/pages/guild-stats.css') }}"
/>
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='css/utilities.css') }}"
/>
{% endblock %} {% block content %}
<div class="guild-stats-page">
  <div class="page-header">
    <h1>
      <i class="fas fa-server"></i>
      Guild Statistics
    </h1>
    <p class="subtitle">Detailed statistics for all connected guilds</p>
  </div>

  <!-- Overall Statistics -->
  <div class="stats-cards">
    <div class="stat-card">
      <div class="stat-icon total-guilds">
        <i class="fas fa-server"></i>
      </div>
      <div class="stat-info">
        <div class="stat-value">{{ totals.guilds }}</div>
        <div class="stat-label">Total Guilds</div>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon total-members">
        <i class="fas fa-users"></i>
      </div>
      <div class="stat-info">
        <div class="stat-value">{{ totals.members }}</div>
        <div class="stat-label">Total Members</div>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon total-channels">
        <i class="fas fa-hashtag"></i>
      </div>
      <div class="stat-info">
        <div class="stat-value">{{ totals.channels }}</div>
        <div class="stat-label">Total Channels</div>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon total-roles">
        <i class="fas fa-shield-alt"></i>
      </div>
      <div class="stat-info">
        <div class="stat-value">{{ totals.roles }}</div>
        <div class="stat-label">Total Roles</div>
      </div>
    </div>
  </div>

  <!-- Guild List -->
  <div class="card">
    <div class="card-header">
      <h3><i class="fas fa-list"></i> Guilds ({{ totals.guilds }})</h3>
    </div>
    <div class="card-body">
      {% if guilds %}
      <div class="guilds-list">
        {% for guild in guilds %}
        <div class="guild-card">
          <div class="guild-header">
            {% if guild.icon %}
            <img
              src="{{ guild.icon }}"
              alt="{{ guild.name }}"
              class="guild-icon"
            />
            {% else %}
            <div class="guild-icon-placeholder">
              <i class="fas fa-server"></i>
            </div>
            {% endif %}
            <div class="guild-info">
              <h4 class="guild-name">{{ guild.name }}</h4>
              <div class="guild-owner">
                <i class="fas fa-crown"></i> {{ guild.owner }}
              </div>
            </div>
          </div>

          <div class="guild-body">
            <div class="stats-row">
              <!-- Members Section -->
              <div class="stat-section">
                <h5><i class="fas fa-users"></i> Members</h5>
                <div class="stat-row">
                  <span class="stat-label">Total:</span>
                  <span class="stat-value">{{ guild.member_count }}</span>
                </div>
                <div class="stat-row">
                  <span class="stat-label">Humans:</span>
                  <span class="stat-value">{{ guild.humans }}</span>
                </div>
                <div class="stat-row">
                  <span class="stat-label">Bots:</span>
                  <span class="stat-value">{{ guild.bots }}</span>
                </div>
              </div>

              <!-- Status Section -->
              <div class="stat-section">
                <h5><i class="fas fa-circle"></i> Online Status</h5>
                <div class="stat-row">
                  <span class="stat-label"
                    ><i class="fas fa-circle icon-online"></i> Online:</span
                  >
                  <span class="stat-value">{{ guild.online }}</span>
                </div>
                <div class="stat-row">
                  <span class="stat-label"
                    ><i class="fas fa-circle icon-idle"></i> Idle:</span
                  >
                  <span class="stat-value">{{ guild.idle }}</span>
                </div>
                <div class="stat-row">
                  <span class="stat-label"
                    ><i class="fas fa-circle icon-dnd"></i> DND:</span
                  >
                  <span class="stat-value">{{ guild.dnd }}</span>
                </div>
                <div class="stat-row">
                  <span class="stat-label"
                    ><i class="fas fa-circle icon-offline"></i> Offline:</span
                  >
                  <span class="stat-value">{{ guild.offline }}</span>
                </div>
              </div>

              <!-- Channels Section -->
              <div class="stat-section">
                <h5><i class="fas fa-hashtag"></i> Channels</h5>
                <div class="stat-row">
                  <span class="stat-label">Text:</span>
                  <span class="stat-value">{{ guild.text_channels }}</span>
                </div>
                <div class="stat-row">
                  <span class="stat-label">Voice:</span>
                  <span class="stat-value">{{ guild.voice_channels }}</span>
                </div>
                <div class="stat-row">
                  <span class="stat-label">Categories:</span>
                  <span class="stat-value">{{ guild.categories }}</span>
                </div>
              </div>

              <!-- Other Stats -->
              <div class="stat-section">
                <h5><i class="fas fa-info-circle"></i> Other</h5>
                <div class="stat-row">
                  <span class="stat-label">Roles:</span>
                  <span class="stat-value">{{ guild.role_count }}</span>
                </div>
                <div class="stat-row">
                  <span class="stat-label">Emojis:</span>
                  <span class="stat-value">{{ guild.emoji_count }}</span>
                </div>
                <div class="stat-row">
                  <span class="stat-label">Boost Level:</span>
                  <span class="stat-value">{{ guild.boost_level }}</span>
                </div>
                <div class="stat-row">
                  <span class="stat-label">Boosts:</span>
                  <span class="stat-value">{{ guild.boost_count }}</span>
                </div>
              </div>
            </div>

            <!-- Guild Info -->
            <div class="guild-footer">
              <div class="guild-meta">
                <span class="meta-item">
                  <i class="fas fa-shield-alt"></i> {{ guild.verification_level
                  }}
                </span>
                <span class="meta-item">
                  <i class="fas fa-calendar"></i> {{ guild.created_at }}
                </span>
              </div>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
      {% else %}
      <div class="empty-state">
        <i class="fas fa-server"></i>
        <h3>No guilds found</h3>
        <p>The bot is not connected to any guilds.</p>
      </div>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
